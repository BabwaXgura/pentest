<?php
$merah    = "\e[91m";
$merahbg = "\e[101m";
$kuning = "\e[93m";
$lkuningbg = "\e[103m";
$kuningbg = "\e[43m";
$oren = "\e[38;5;208m";
$hijau  = "\e[92m";
$hijaubg = "\e[42m";
$lhijaubg = "\e[102m";
$fhijau = "\e[32m";
$biru   = "\e[34m";
$biru1  = "\e[36m";
$birubg = "\e[44m";
$lbirubg = "\e[106m";
$grey = "\e[37m";
$cyan = "\e[36m";
$magenta = "\e[35m";
$putih = "\e[97m";
$hitam = "\e[30m\e[1m";
$cln    = "\e[0m";
$bold   = "\e[1m";
//pariabel pungsi pungsinya uhh 
function ingfoo ($site){
  $Mxlkp = dns_get_record($site, DNS_MX);
  $mxrcrd = $Mxlkp[0]['target'];
  $mxip = gethostbyname($mxrcrd);
  $mx = gethostbyaddr($mxip);
  $mxresult = "\e[1m\e[36mIP      :\e[32m " . $mxip ."\n\e[36mHOSTNAME:\e[32m " . $mx ;
  return $mxresult;
}
function input($message){
    global $white, $bold, $hijaubg, $merahbg, $birubg, $cln, $lbiru, $fhijau;
    $kuningbg = "\e[100m";
    $inputstyle = $cln . $bold . $putih . "[!] " . $message . ": " . $putih;
  echo $inputstyle;
  }
function judul($url) {
  $data = readcontents($url);
  $title = preg_match('/<title[^>]*>(.*?)<\/title>/ims', $data, $matches) ? $matches[1] : null;
  return $title;
  }
  



function cloudetek($reallink){

  $urlhh    = "http://api.hackertarget.com/httpheaders/?q=" . $reallink;
  $resulthh = file_get_contents($urlhh);
  if (strpos($resulthh, 'cloudflare') !== false)
    {
      echo "\e[91mDetected\n\e[0m";
    }
  else
    {
      echo "\e[92mGa Ada\n\e[0m";
    }
}

function robotttt($reallink){
  $rbturl    = $reallink . "/robots.txt";
  $rbthandle = curl_init($rbturl);
  curl_setopt($rbthandle, CURLOPT_SSL_VERIFYPEER, false);
  curl_setopt($rbthandle, CURLOPT_RETURNTRANSFER, TRUE);
  $rbtresponse = curl_exec($rbthandle);
  $rbthttpCode = curl_getinfo($rbthandle, CURLINFO_HTTP_CODE);
  if ($rbthttpCode == 200)
    {
      $rbtcontent = readcontents($rbturl);
      if ($rbtcontent == "")
        {
          echo "Found But Empty!";
        }
      else
        {
          echo "\e[92mFound \e[0m\n";
          echo "\e[36m\n-------------[ contents ]----------------  \e[0m\n";
          echo $rbtcontent;
          echo "\e[36m\n-----------[end of contents]-------------\e[0m";
        }
    }
  else
    {
      echo "\e[91mtidak dapat menemukan robots.txt! \e[0m\n";
    }
}
function CEMS($reallink){
  $cmssc  = readcontents($reallink);
  if (strpos($cmssc, '/wp-content/') !== false)
    {
      $tcms = "WordPress";

    }
  else
    {
      if (strpos($cmssc, 'Joomla') !== false)
        {
          $tcms = "Joomla";
        }
      else
        {
          $drpurl = $reallink . "/misc/drupal.js";
          $drpsc  = readcontents("$drpurl");
          if (strpos($drpsc, 'Drupal') !== false)
            {
              $tcms = "Drupal";
            }
          else
            {
              if (strpos($cmssc, '/skin/frontend/') !== false)
                {
                  $tcms = "Magento";
                }
              else
                {
                  if (strpos($cmssc, 'content="WordPress')!== false) {
                    $tcms = "WordPress";
                  }
                  else {


                  $tcms = "\e[91mCould Not Detect";
                }
                }
            }
        }
    }
    return $tcms;
}
function WEBserver($urlws){
  stream_context_set_default( [
    'ssl' => [
        'verify_peer' => false,
        'verify_peer_name' => false,
    ],
]);
  $wsheaders = get_headers($urlws, 1);
  if (is_array($wsheaders['Server'])) { $ws = $wsheaders['Server'][0];}else{
    $ws = $wsheaders['Server'];
  }
  if ($ws == "")
    {
      echo "\e[91mga ada\e[0m";
    }
  else
    {
      echo "\e[92m$ws \e[0m";
    }
}

function gethttpheader($reallink){
  $hdr = get_headers($reallink);
  foreach ($hdr as $shdr) {
    echo "\n\e[92m\e[1m[i]\e[0m  $shdr";
  }
  echo "\n";

}
function readcontents($urltoread){
  $arrContextOptions=array(
      "ssl"=>array(
            "verify_peer"=>false,
            "verify_peer_name"=>false,
        ),
    );
    $filecntns = file_get_contents($urltoread, false, stream_context_create($arrContextOptions));
    return $filecntns;
}


?>